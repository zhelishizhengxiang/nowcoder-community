<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.simon.community.dao.LoginTicketMapper">

  <sql id="Base_Column_List">
    id, user_id, ticket, status, expired
  </sql>
  <insert id="insertLoginTicket" useGeneratedKeys="true" keyProperty="id">
    insert into login_ticket
        values(null,#{userId},#{ticket},#{status},#{expired});
  </insert>
  <update id="updateStatus" >
    update login_ticket
        set status=#{status}
        where ticket=#{ticket}
  </update>
  <select id="selectByTicket" resultType="com.simon.community.pojo.LoginTicket">
    select <include refid="Base_Column_List"></include> from login_ticket
        where ticket=#{ticket}
  </select>

</mapper>